# Rails
RAILS_ENV=production
RAILS_LOG_TO_STDOUT=true
RAILS_SERVE_STATIC_FILES=false
RAILS_MAX_THREADS={{ rails_max_threads | default('5') }}

# Database
DATABASE_URL={{ database_url }}

# Redis
REDIS_URL={{ redis_url }}

# Security
SECRET_KEY_BASE={{ secret_key_base }}
JWT_SECRET={{ jwt_secret }}

# Puma
WEB_CONCURRENCY={{ web_concurrency | default('2') }}
PORT=3000

# Application
APP_DOMAIN={{ app_domain | default(ansible_host) }}

{% if additional_env_vars is defined %}
# Additional environment variables
{% for key, value in additional_env_vars.items() %}
{{ key }}={{ value }}
{% endfor %}
{% endif %}